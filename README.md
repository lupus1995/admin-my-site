Авторский блог Панфилова Александра. Это репозиторий для юай части моего блога.

Целью блога является публикация моих статей на моем авторском [сайте](https://webforself.ru), а также тестирование своих теорий в вебе, обучение новым технолгиям и практикам на сайте.

Этот репозиторий представляет собой базу по опубликованным статьям, в которых я описываю свой опыт и результаты своих экспериментов. Также на сайте есть раздел с проектами, который будет содержать в себе мои петпроекты и их результат.

Также в проекте в качестве эксперимента используется библиотека cssinjs. Она используется, потому что изначально проект разрабатывался без каких-либо фреймврков и была цель завести ssr. На тот момент удалось завести только с вышеупомянутой библиотекой.

Потом от идеи сделать собственный ssr пришлось отказаться и взять готовое решение в виде nextjs. Cssinjs переписывать не захотелось, поэтому было принято решение оставить его и использовать дальше.

Минус cssinjs состоит в его работе с медиа запросами. Из коробки он не умеет определять ширину экрана и тип устройства, как это делает чистый css. Для решения данной проблемы необходимо использовать сторонние библиотеки и дополнительный интерфейс, который сможет определить какой стиль, когда можно использовать.

## Консольные команды и инструкция по запуску

```bash
# запускает режим разработки
npm run dev
# построение сборки для продакшина и генерации карты сайта
npm run build
# генерация карты сайта, запускается автоматически после выполнения команды npm run build
npm run postbuild
# запускает готовую сборку продакшина, если сборки нет, то необходимо ее перед этим сгенерировать
npm run start
# запускает тесты
npm run test
# запускает установку husky
npm run prepare
# добавляет хук на коммит перед тем как он будет добавлен
npm run add:pre-commit
```

Команды npm run prepare и npm run add:pre-commit должны быть запущены один раз, после этого их не надо повторно запускать.

## Описание проекта

На проекте используется nextjs, соответственно вместе с ним ипользуется и server side rendering. Входной точкой является папка pages, согласно документации фреймворка. Далее, в зависимости от урла, необходимо найти файл, который обслуживает данный урл. Все остальные рабочие файлы в моем проекте находятся в папке src.

- commons общие файлы;
- components - компоненты, которые содержат бизнес логику или простую логику, на данный момент у меня здесь только пагинация
- font - папка со шрифтами, которые используются в проекте. В данном случае я их использую локально, чтобы не быть зависимым от посторонних сервисов;
- locales - папка с переводами и русского языков;
- pages - папкас основным кодом страниц. Она состоит из двух модулей: из административной панели и общедоступных страниц;
- petProjects - папка, которая будет в себе содержать пет проекты. На данный момент здесь содержится только мои наработки с графиками;
- utils - папка с утилитами, которые используются во всем проекте;
- websockets - папка с приложением, в рамках которого готовил себе готовые примеры работы по сокетам. В нем реализован пример чата и видео звонок через webRTC.

## Конфигурационные файлы

- i18n - настройка мультиязычности на сайте;
- roboto - подключение шрифтов;
- babel - настройка полифилов для js;
- env - константы, которые зависят от окружения. Файл необходимо создать после клонирования проекта с гитхаба. Далее идет список переменных, которые необходимы для работы проекта:
- - NEXT_PUBLIC_HOSTNAME - название хоста;
- - NEXT_PUBLIC_BACKEND_URL - урл для запросов на бекенд;
- eslintrc - настройка правил для написания кода typesript и javascript;
- gitignore - игнорирование папок и файлов, которые не должны попасть в репозиторий;
- jest.config и jest.setup - настройка тестового окружения для запуска тестов;
- next-sitemap.config - настройки по генерации карты сайта в автоматическом режиме;
- next-env - необходим для корректной работы typescript в nextjs;
- next.config - конфигурационный файл nextjs;
- tsconfig - настройка языка typescript;
- package.json - файл, содержащий информацию о зависимостях на проекте и содержит скрипты и дополнительную информацию об проекте, которая нужна для релиза;
- reademe - описание проекта и работа с ним.